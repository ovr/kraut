<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <script>
        Number.prototype.compareTo = function (obj) {
            if (!obj instanceof Number) {
                console.log("param type is error!");
                return false;
            }

            v = obj.valueOf();
            thisValue = obj.valueOf();

            return thisValue > v ? -1 : (thisValue < v ? 1 : 0);
        };

        Number.prototype.devide = function (divisor, scale) {
            return this.valueOf() / divisor;
        };

        function matrixDet(matrix, n) {
            var i, j;

            for (i = 0; i < n; i++) {
                for (j = 0; j < n; j++) {
                    if (matrix[i][j] == 0) {
                        /**
                         * Матрицу хоть с 1 нулевым числом нельзя использовать для данного алгоритма
                         */
                        return false;
                    }
                }
            }

            var tmpMatrix = new Array(n);

            var tmp;

            for (i = 0; i < n; i++) {
                tmp = 0;

                for (j = 0; j < n; j++) {
                    if (Math.abs(matrix[i][j]) > tmp) {
                        tmp = Math.abs(matrix[i][j]);
                    }
                }

                /**
                 * @todo Проверить долбаеб ли я?
                 * @type {number}
                 */
                tmpMatrix[i] = (1/tmp)/1;
//                console.log(tmpMatrix[i]);
            }

            var sign = 1;
            var summ;

            for (j = 0; j < n; j++) {
                for (i = 0; i < j; i++) {
                    summ = matrix[i][j];
//                    console.log(summ);

                    for (k = 0; k < i; k++) {
                        console.log(matrix[i][k])
                        summ -= matrix[i][k] * matrix[k][j];
                    }

//                    console.log(summ);
                    matrix[i][j] = summ;
                }

                tmp = 0;
                var imax = -1;

                for (i = j; i < n; i++) {
                    summ = [i][j];

                    for (k = 0; k < j; k++) {
                        summ -= matrix[i][k] * matrix[k][j];
                    }

                    matrix[i][j] = summ;
                    var cur = Math.abs(summ);

                    if (cur.compareTo(summ) >= 0) {
                        summ = cur;
                        imax = i;
                    }
                }

                if (j != max) {
                    for (k=0; k<n; k++)
                    {
                        var t = a[j][k];
                        a[j][k] = a[imax][k];
                        a[imax][k] = t;
                    }

                    var t = scaling[imax];
                    scaling[imax] = scaling[j];
                    scaling[j] = t;

                    sign = -sign;
                }

                if (j != n-1) {
                    for (i = j + 1;  i < n; i++)  {
                        a[i][j] = a[i][j].divide(a[j][j], 100, BigDecimal.ROUND_HALF_EVEN);
                    }
                }
            }
        }

        var matrix = [
            [1, 2, 2],
            [5, 5, 3],
            [6, 2, 1]
        ];

        console.log(matrixDet(matrix, matrix.length));
        console.log(matrix);
    </script>
</body>
</html>